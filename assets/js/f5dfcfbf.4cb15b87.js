"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[247],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),h=r,m=p["".concat(s,".").concat(h)]||p[h]||d[h]||a;return n?o.createElement(m,i(i({ref:t},u),{},{components:n})):o.createElement(m,i({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},88582:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var o=n(87462),r=(n(67294),n(3905));const a={title:"Inventory Validation"},i="Inventory Validation",l={unversionedId:"inventory-validation/index",id:"inventory-validation/index",title:"Inventory Validation",description:"This page contains information about product inventory validation.",source:"@site/docs/inventory-validation/index.md",sourceDirName:"inventory-validation",slug:"/inventory-validation/",permalink:"/docs/inventory-validation/",draft:!1,tags:[],version:"current",frontMatter:{title:"Inventory Validation"},sidebar:"bonsai",previous:{title:"Images",permalink:"/docs/images/"},next:{title:"Introduction",permalink:"/docs/bonsai-ui/introduction"}},s={},c=[{value:"Who is this for",id:"who-is-this-for",level:2},{value:"How can a user buy an out-of-stock product",id:"how-can-a-user-buy-an-out-of-stock-product",level:2},{value:"How validation works",id:"how-validation-works",level:2},{value:"Checkout flow diagram",id:"checkout-flow-diagram",level:2}],u={toc:c};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,o.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"inventory-validation"},"Inventory Validation"),(0,r.kt)("p",null,"This page contains information about product inventory validation.\nThis feature provides live inventory checks to increase order success rate when product information gets outdated."),(0,r.kt)("h2",{id:"who-is-this-for"},"Who is this for"),(0,r.kt)("p",null,"Inventory validation is currently implemented for merchants that provide slower inventory updates leading to success rates below expectations.\nVerify with your account manager, if you have questions which merchants are not included in this additional check."),(0,r.kt)("h2",{id:"how-can-a-user-buy-an-out-of-stock-product"},"How can a user buy an out-of-stock product"),(0,r.kt)("p",null,"A customer can buy an out-of-stock product when the following scenario occurs:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Product inventory changes on the merchant's website, and the product becomes unavailable"),(0,r.kt)("li",{parentName:"ol"},"Merchant updates their product feed"),(0,r.kt)("li",{parentName:"ol"},"Bonsai ingests the merchant's latest product feed"),(0,r.kt)("li",{parentName:"ol"},"Bonsai updates the product feed, which gets ingested by you"),(0,r.kt)("li",{parentName:"ol"},"Customer views the product on your application and attempts to purchase it")),(0,r.kt)("p",null,"Bonsai works hard to reduce the time between merchants updating their product feed in step 2 and getting this updated product information into the feeds ingested by clients."),(0,r.kt)("p",null,"Even with the most optimized flow, we depend on how frequently the merchant updates their product feed. If this happens once a day, chances are higher for a customer to purchase an out-of-stock product."),(0,r.kt)("p",null,"Usually, frequently updated merchant feeds have a higher order success rate. As a result, by the time the end user purchases the product, the product will still be in stock and ready for fulfillment."),(0,r.kt)("h2",{id:"how-validation-works"},"How validation works"),(0,r.kt)("p",null,"For merchants providing a lower inventory update frequency,\nBonsai delivers a custom solution validating product availability during checkout."),(0,r.kt)("p",null,"When performing a checkout API call (",(0,r.kt)("inlineCode",{parentName:"p"},"/checkout"),") to Bonsai,\nwe'll return the latest inventory within our system and automatically check for the newest product information if the merchant has checkout validation configured.\nHowever, since checking for live information often takes longer than expected from our checkout API endpoint, we need to handle this ",(0,r.kt)("strong",{parentName:"p"},"asynchronously"),"."),(0,r.kt)("p",null,"The first time you call our Checkout API, it might not return the latest product information,\nas there's a delay between retrieving the newest product information from the merchant's system,\nstoring it and returning an API response."),(0,r.kt)("p",null,"After an unknown time (primarily within seconds), the latest product validation will be complete, and a subsequent call to ",(0,r.kt)("inlineCode",{parentName:"p"},"/checkout")," will include the most up-to-date information."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Suppose a product gets marked as unavailable.\nIn that case, there will be no further inventory checks during checkout, and the product will stay unavailable until the next cycle when we receive merchant product updates.")),(0,r.kt)("p",null,"Here's how the checkout flow looks in this case:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Customer adds a product to their cart"),(0,r.kt)("li",{parentName:"ol"},"Call ",(0,r.kt)("a",{parentName:"li",href:"/docs/api/orders/checkout-totals"},"checkout totals API endpoint"),". Inventory validation begins asynchronously"),(0,r.kt)("li",{parentName:"ol"},"Allow the user to enter the billing and shipping information"),(0,r.kt)("li",{parentName:"ol"},"Call Bonsai ",(0,r.kt)("a",{parentName:"li",href:"/docs/api/orders/checkout-totals"},"checkout totals API endpoint")," again. The inventory validation results are in, providing the most up-to-date product availability information based on the merchant's system"),(0,r.kt)("li",{parentName:"ol"},"Call Bonsai ",(0,r.kt)("a",{parentName:"li",href:"/docs/api/orders/submit-orders"},"submit order API endpoint")," to place an order which will validate against the latest product information in our system (up-to-date after Step 2. completes)")),(0,r.kt)("h2",{id:"checkout-flow-diagram"},"Checkout flow diagram"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Inventory validation flow diagram",src:n(98767).Z,width:"1610",height:"2483"})),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"When a product is unavailable Checkout Totals API endpoint responds with the status ",(0,r.kt)("inlineCode",{parentName:"p"},"200"),".\nIf you want to display an error, look for the ",(0,r.kt)("inlineCode",{parentName:"p"},"errors")," array in the response.\nSee more examples in ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/orders/checkout-error-responses#product_unavailable"},"Checkout Error Responses"),".")))}d.isMDXComponent=!0},98767:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/inventory-validation-flow-diagram-eea5943b7cbbaafa605f38947b529d1c.jpg"}}]);